<div class="button-row">
    {% if buttons is not defined %}
        {% set buttons = ['close'] %}
    {% endif %}

    {% for button in buttons %}

{# General submit #}
        {% if button.type is defined and button.type == 'submit' %}
            <button type="submit" class="button {{ button.class }}" title="{{ button.title|trans }}">
                <span>{{ button.label|trans }}</span>
            </button>
        {% endif %}

{# Problems #}
        {# new problem #}
        {% if button == 'new_problem' and client.id and not client.isArchived%}
            <a href="{{ path('problem_new', {client_id: client.id}) }}" class="button new_problem" title="{{ 'Új probléma létrehozása'|trans }}"><span>{{ 'új probléma'|trans }}</span></a>
        {% endif %}

        {# edit problem #}
        {% if button == 'edit_problem' and problem.id is defined and client.id and problem.isActive %}
            <a href="{{ path('problem_edit', {id: problem.id, client_id: client.id}) }}" class="button edit_problem" title="{{ 'Probléma szerkesztése'|trans }}">
                <span>{{ 'szerkesztés'|trans }}</span>
            </a>
        {% endif %}

        {# back to view problem #}
        {% if button == 'back_to_problem' and problem.id is defined %}
            {% if problem.id %}
                <button type="reset" href="{{ path('problem_view', {'id': problem.id}) }}" class="greybutton back_to_problem" title="{{ 'Visszalépés'|trans }}">
                    <span>{{ 'mégse'|trans }}</span>
                </button>
            {% else %}
                <button type="reset" href="{{ path('clients') }}" class="close greybutton" title="{{ 'Visszalépés'|trans }}">
                    <span>{{ 'mégse'|trans }}</span>
                </button>
            {% endif %}
        {% endif %}

        {# add debt #}
        {% if button == 'add_debt' %}
            <a href="#" class="greybutton add_debt" title="{{ 'Új hátralék hozzáadása'| trans }}"><span>{{ 'új hátralék'|trans }}</span></a>
        {% endif %}

        {# close problem #}
        {% if button == 'close_problem' and problem.id is defined %}
            {% if not problem.isActive %}
                <a href="{{ path('problem_close', {'id': problem.id}) }}" class="button close_problem" title="{{ 'Probléma újranyitása'|trans }}">
                    <span>{{ 'újranyitás'|trans }}</span>
                </a>
            {% else %}
                <a href="{{ path('problem_close', {'id': problem.id}) }}" class="greybutton close_problem" title="{{ 'Probléma lezárása'|trans }}">
                    <span>{{ 'lezárás'|trans }}</span>
                </a>
            {% endif %}
        {% endif %}

{# Clients #}
        {# new client #}
        {% if button == 'new_client' %}
            <a href="{{ path('client_new') }}" class="button new_client" title="{{ 'Új ügyfél létrehozása'|trans }}"><span>{{ 'új ügyfél'|trans }}</span></a>
        {% endif %}

        {# add utility provider #}
        {% if button == 'add_utilityprovider' %}
            <a href="#" class="greybutton add_utilityprovider"><span>{{ 'új szolgáltató'|trans }}</span></a>
        {% endif %}

        {# back to view client #}
        {% if button == 'back_to_client' and client.id is defined %}
            {% if client.id %}
                <button type="reset" href="{{ path('client_view', {'id': client.id}) }}" class="greybutton back_to_view" title="{{ 'Visszalépés'|trans }}">
                    <span>{{ 'mégse'|trans }}</span>
                </button>
            {% else %}
                <button type="reset" href="{{ path('clients') }}" class="close greybutton" title="{{ 'Visszalépés'|trans }}">
                    <span>{{ 'mégse'|trans }}</span>
                </button>
            {% endif %}
        {% endif %}

        {# archive client #}
        {% if button == 'archive' and client.id is defined and is_granted('ROLE_ADMIN') %}
            {% if client.isArchived %}
                <a href="{{ path('client_archive', {'id': client.id}) }}" class="button archive_client" title="{{ 'Ügyfél újranyitása'|trans }}">
                    <span>{{ 'újranyitás'|trans }}</span>
                </a>
            {% else %}
                <a href="{{ path('client_archive', {'id': client.id}) }}" class="greybutton archive_client" title="{{ 'Ügyfél archiválása'|trans }}">
                    <span>{{ 'archiválás'|trans }}</span>
                </a>
            {% endif %}
        {% endif %}

        {# edit client #}
        {% if button == 'edit' and client.id is defined and not client.isArchived %}
            <a href="{{ path('client_edit', {'id': client.id}) }}" class="button edit_client" title="{{ 'Ügyfél szerkesztése'|trans }}">
                <span>{{ 'szerkesztés'|trans }}</span>
            </a>
        {% endif %}

        {% if button == 'close_dialog' %}
            <button type="reset" class="close greybutton" title="{{ 'Blokk bezárása'|trans }}"><span>mégse</span></button>
        {% endif %}

        {% if button == 'close' %}
            <div class="close greybutton" title="{{ 'Blokk bezárása'|trans }}"><span>x</span></div>
        {% endif %}
    {% endfor %}
</div>
